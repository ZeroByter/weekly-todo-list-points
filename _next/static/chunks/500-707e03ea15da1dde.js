"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{1500:(r,e,n)=>{n.d(e,{A:()=>h}),Object.create;Object.create;var t,u,c=("function"==typeof SuppressedError&&SuppressedError,n(2115));let i=function(r){var e=(0,c.useRef)(r);return e.current=r,e};var o=function(r){return"function"==typeof r},a=!!("undefined"!=typeof window&&window.document&&window.document.createElement);function f(r,e){var n;if(a)return r?o(r)?r():"current"in r?r.current:r:e}let l=function(r){var e=i(r);(0,c.useEffect)(function(){return function(){e.current()}},[])};function s(r,e){if(r===e)return!0;for(var n=0;n<r.length;n++)if(!Object.is(r[n],e[n]))return!1;return!0}var v=(t=c.useEffect,function(r,e,n){var u=(0,c.useRef)(!1),i=(0,c.useRef)([]),o=(0,c.useRef)([]),a=(0,c.useRef)();t(function(){var t,c=(Array.isArray(n)?n:[n]).map(function(r){return f(r)});if(!u.current){u.current=!0,i.current=c,o.current=e,a.current=r();return}c.length===i.current.length&&s(i.current,c)&&s(o.current,e)||(null==(t=a.current)||t.call(a),i.current=c,o.current=e,a.current=r())}),l(function(){var r;null==(r=a.current)||r.call(a),u.current=!1})});let d=function(r,e,n){void 0===n&&(n={});var t=n.enable,u=void 0===t||t,c=i(e);v(function(){if(u){var e=f(n.target,window);if(null==e?void 0:e.addEventListener){var t=function(r){return c.current(r)},i=Array.isArray(r)?r:[r];return i.forEach(function(r){e.addEventListener(r,t,{capture:n.capture,once:n.once,passive:n.passive})}),function(){i.forEach(function(r){e.removeEventListener(r,t,{capture:n.capture})})}}}},[r,n.capture,n.once,n.passive,u],n.target)},p=function(r){var e=(0,c.useRef)(r);e.current=(0,c.useMemo)(function(){return r},[r]);var n=(0,c.useRef)();return n.current||(n.current=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return e.current.apply(this,r)}),n.current},y=function(r){return function(e,n){var t=(0,c.useRef)(!1);r(function(){return function(){t.current=!1}},[]),r(function(){if(t.current)return e();t.current=!0},n)}}(c.useEffect);var E="AHOOKS_SYNC_STORAGE_EVENT_NAME";let h=(u=function(){return a?localStorage:void 0},function(r,e){void 0===e&&(e={});var n,t=e.listenStorageChange,i=void 0!==t&&t,a=e.onError,f=void 0===a?function(r){console.error(r)}:a;try{n=u()}catch(r){f(r)}function l(){try{var t=null==n?void 0:n.getItem(r);if(t)return e.deserializer?e.deserializer(t):JSON.parse(t)}catch(r){f(r)}return o(e.defaultValue)?e.defaultValue():e.defaultValue}var s=function(r,e){var n="function"==typeof Symbol&&r[Symbol.iterator];if(!n)return r;var t,u,c=n.call(r),i=[];try{for(;(void 0===e||e-- >0)&&!(t=c.next()).done;)i.push(t.value)}catch(r){u={error:r}}finally{try{t&&!t.done&&(n=c.return)&&n.call(c)}finally{if(u)throw u.error}}return i}((0,c.useState)(l),2),v=s[0],h=s[1];y(function(){h(l())},[r]);var g=function(e){e.key===r&&e.storageArea===n&&h(l())};return d("storage",g,{enable:i}),d(E,function(r){g(r.detail)},{enable:i}),[v,p(function(t){var u=o(t)?t(v):t;i||h(u);try{var c=void 0,a=null==n?void 0:n.getItem(r);void 0===u?(c=null,null==n||n.removeItem(r)):(c=e.serializer?e.serializer(u):JSON.stringify(u),null==n||n.setItem(r,c)),dispatchEvent(new CustomEvent(E,{detail:{key:r,newValue:c,oldValue:a,storageArea:n}}))}catch(r){f(r)}})]})}}]);